<div class="account-home">
  <h1>Welcome, {{ username }}</h1>
  <p>You are now logged in to your account.</p>

  <div *ngIf="docs.length > 0" class="alerts-summary">
    <h2>Upcoming Deadlines</h2>
    <p>You have {{ docs.length }} documents with deadlines in the next 30 days.</p>

    <div class="alerts-list">
      <div
        *ngFor="let doc of docs"
        class="alert-card"
        [ngClass]="doc.priority"
      >
        <h3>{{ doc.file_name }}</h3>
        <div class="actions">
          <!-- <button (click)="closeDocument(doc)"> Close</button> -->
          <button class="close-btn" (click)="closeDocument(doc)">❌</button>
        </div>
        <p class="due-date">
          Due: {{ doc.due_date | date:'MMM d, y' }}
          ({{ doc.daysLeft }} days left)
        </p>

        <!-- مبلغ -->
        <p *ngIf="doc.is_payment" class="payment">
          Payment: {{ doc.is_payment | currency:'USD':'symbol':'1.0-0' }}
        </p>

        <!-- محتوای کوتاه -->
        <p class="content">
          {{ doc.content | slice:0:420 }}...
        </p>

        <!-- تگ مالیاتی -->
        <div class="actions">
          <button (click)="toggleTaxRelated(doc)">
            Toggle Tax Related ({{ doc.is_tax_related ? 'True' : 'False' }})
          </button>
        </div>

        <!-- دکمه دیدن سند -->
        <div class="actions">
          <button (click)="openDocument(doc.document_id)">View Document</button>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="docs.length === 0" class="no-alerts">
    <p>No upcoming deadlines</p>
  </div>
</div>
